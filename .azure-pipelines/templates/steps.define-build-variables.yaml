# THIS FILE WAS GENERATED BY IMMUNODATA PLATFORM LIBRARIES.
# EDIT WITH CAUTION!

parameters:
  - name: appBuilderImageName
    type: string
  - name: appBuilderImageTag
    type: string
  - name: component
    type: string
    values:
    - oneml-app
    - oneml-devtools
    - oneml-pipelines
    - oneml-processors
  - name: isDevBuild
    type: boolean

steps:
- script: |
    BUILD_VERSION=$(Build.Buildnumber)$VERSION_SUFFIX
    echo "Generating main Branch Version: $BUILD_VERSION"
    echo "##vso[task.setvariable variable=build_version]$BUILD_VERSION"
  env:
    COMPONENT: ${{ parameters.component }}
    ${{ if eq(parameters.isDevBuild, true) }}:
      VERSION_SUFFIX: "-dev"
  displayName: 'Generate Build Variables'
