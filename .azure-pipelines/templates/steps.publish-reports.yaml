# THIS FILE WAS GENERATED BY IMMUNODATA PLATFORM LIBRARIES.
# EDIT WITH CAUTION!

parameters:
  # We can disable or change the location of reports with parameters.
  publish_junit_reports: true
  publish_coverage_reports: true
  junit_path: '.tmp/*/reports/*-junit.xml'
  coverage_path: '.tmp/*/reports/coverage.xml'

steps:

- task: PublishTestResults@2
  displayName: 'Publish: JUnit Reports'
  inputs:
    testResultsFormat: JUnit
    testResultsFiles: ${{ parameters.junit_path }}
    mergeTestResults: true
  condition: and(succeededOrFailed(), eq('${{ parameters.publish_junit_reports }}', true))

- task: PublishCodeCoverageResults@1
  displayName: 'Publish: Coverage Report'
  inputs:
    codeCoverageTool: Cobertura
    summaryFileLocation: ${{ parameters.coverage_path }}
  condition: and(succeededOrFailed(), eq('${{ parameters.publish_coverage_reports }}', true))
