image_pull_secrets:
  - secret_name: "immunodata-pull-secret"
    registry_name: "immunodata.azurecr.io"
    identity_name: "msft.immunodata-adpt-habitat"
# TODO - this config is a temporary hack until we have a proper permissions system
# this configures the identity to use for cross-tenant reads of storage accounts that would
# be handled by Managed Identities if they were owned by this Habitat
# TODO - throw validation error if the storage accounts listed here aren't in
#  external_dataset_storage_accounts
default_external_dataset_storage_accounts:
- environment: "production"
  external_dataset_storage_accounts:
  - "ampdatasets01"
  - "ampdata02"
- environment: "development"
  external_dataset_storage_accounts:
  - "ampdatasetsdev01"
  - "ampdata02"
external_dataset_storage_accounts:
  - storage_account_name: "ampdatasets01"
    identity_name: "msft.immunodata-adpt-habitat"
  - storage_account_name: "ampdatasetsdev01"
    identity_name: "msft.immunodata-adpt-habitat"
  - storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - storage_account_name: "jupyterscratch01"
    identity_name: "msft.immunodata-adpt-habitat"
# NOTE - these containers should theoretically never use "default" as an identity
# We specified all of the containers in the ampdata02 storage account to match the
# current interface for SAS tokens used in immunodata-luigi + RcD
external_dataset_containers:
  - container_name: "adaptive-processed-csv"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "adaptive-raw-csv"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "antigens"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "api-raw-mira"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "api-raw-repertoire"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "bindings"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "bletchley-sparse"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "dataset-metadata"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "experiments"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "immunodata-mira-batches"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "immunodata-mira-inventory"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "immunodata-mira-raw-batches"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "immunodata-repertoire-batches"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "immunodata-repertoire-collections"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "immunodata-repertoire-experiments"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "immunodata-repertoire-inventory"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "immunodata-repertoire-raw-batches"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "immunolib"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "mira-modeling"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "mira-p2-predictions"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "other"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "staging"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "tmp"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"
  - container_name: "notebook-staging"
    storage_account_name: "ampdata02"
    identity_name: "msft.immunodata-adpt-habitat"